# Docker Compose override file for HTTPS/SSL support
# 
# Usage:
#   docker-compose -f docker-compose.yml -f docker-compose.ssl.yml up -d
#
# Prerequisites:
#   1. SSL certificates obtained via certbot at /etc/letsencrypt/live/<domain>/
#   2. Port 443 open in firewall/NSG
#   3. Update certificate paths below with your actual domain name

services:
  nginx:
    ports:
      # Add HTTPS port (HTTP port 80 is already defined in base docker-compose.yml)
      - "443:443"
    volumes:
      # Override nginx config with SSL-enabled version
      - ./nginx-cosmosdb-ssl.conf:/etc/nginx/conf.d/default.conf:ro
      # Mount SSL certificates from host
      # IMPORTANT: Replace 'your-domain-name' with your actual FQDN
      - /etc/letsencrypt/live/your-domain-name/fullchain.pem:/etc/ssl/certs/fullchain.pem:ro
      - /etc/letsencrypt/live/your-domain-name/privkey.pem:/etc/ssl/private/privkey.pem:ro
